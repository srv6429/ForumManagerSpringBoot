<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_231) on Thu Feb 13 11:31:27 EST 2020 -->
<title>UserController</title>
<meta name="date" content="2020-02-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UserController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/olumpos/forum/controllers/TopicController.html" title="class in org.olumpos.forum.controllers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/olumpos/forum/controllers/UserController.html" target="_top">Frames</a></li>
<li><a href="UserController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.olumpos.forum.controllers</div>
<h2 title="Class UserController" class="title">Class UserController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.olumpos.forum.controllers.UserController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Controller
 @RequestMapping(value="/")
 @SessionAttributes(value="user")
public class <span class="typeNameLabel">UserController</span>
extends java.lang.Object</pre>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>daristote
 
 Classe qui contient les 'endpoints' des requêtes http pour les utilisateurs (users)
 
 Les requêtes lieés aux users sont gérées par les différentes méthodes définies ici
 Les paramètres des méthodes contiennent les paramètres transmis dans les requêtes (GET, POST, PUT, DELETE )
 ainsi qu'une instance de l'interface Model qui permet d'inclure et modifier les attributs de session et des requêtes</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/controllers/UserController.html#UserController--">UserController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/controllers/UserController.html#getUsers-org.springframework.ui.Model-">getUsers</a></span>(org.springframework.ui.Model&nbsp;model)</code>
<div class="block">Méthode qui permet de récupérer l'ensemble des utilisateurs 
 Seul un gestionnaire peut obtenir la liste des utilisateurs</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/controllers/UserController.html#profileForm-org.springframework.ui.Model-">profileForm</a></span>(org.springframework.ui.Model&nbsp;model)</code>
<div class="block">Méthode qui permet d'afficher la page de profil pour un utilisateur connecté
 L'utilisateur peut modifier son pseudonyme, son adresse courriel et son mot de passe
 Les champs sont automatiquement remplies avec les valeurs actuelles</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;<a href="../../../../org/olumpos/forum/entities/JSONResponse.html" title="class in org.olumpos.forum.entities">JSONResponse</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/controllers/UserController.html#toggleUser-int-org.springframework.ui.Model-">toggleUser</a></span>(int&nbsp;id,
          org.springframework.ui.Model&nbsp;model)</code>
<div class="block">Méthode qui permet à une administrateur d'activer1/désactiver un utilisateur en modifiant 
 la valeur du champ 'isActive' (byte): valeurs possibles: 0 ou 1</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/olumpos/forum/controllers/UserController.html#updateProfile-org.olumpos.forum.entities.User-org.springframework.validation.BindingResult-org.springframework.ui.Model-">updateProfile</a></span>(@Valid <a href="../../../../org/olumpos/forum/entities/User.html" title="class in org.olumpos.forum.entities">User</a>&nbsp;updatedUser,
             org.springframework.validation.BindingResult&nbsp;result,
             org.springframework.ui.Model&nbsp;model)</code>
<div class="block">Méthode qui permet de modifier les paramètres de l'utilisteur une fois le formulaire de la vue 'profile' soumis 
 Utilisation d'un validator pour les différents champs</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="UserController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UserController</h4>
<pre>public&nbsp;UserController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getUsers-org.springframework.ui.Model-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsers</h4>
<pre>@GetMapping(value="/admin/users")
public&nbsp;java.lang.String&nbsp;getUsers(org.springframework.ui.Model&nbsp;model)</pre>
<div class="block">Méthode qui permet de récupérer l'ensemble des utilisateurs 
 Seul un gestionnaire peut obtenir la liste des utilisateurs</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>model</code> - : model qui permet d'enregistrer l'attribut 'users' dans la requête et qui permettra à la vue 'users' d'afficher 
 la liste des utilisateurs sur la page html</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>: une chaîne de caractères correspondant à la vue associée à la page html  
 
 TODO: gestion d'une exception si la liste est vide ou si une erreur survient lors de la connection avec la base de données</dd>
</dl>
</li>
</ul>
<a name="toggleUser-int-org.springframework.ui.Model-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toggleUser</h4>
<pre>@PutMapping(value="/admin/users/{id}",
            produces="application/json;charset=UTF-8")
public&nbsp;org.springframework.http.ResponseEntity&lt;<a href="../../../../org/olumpos/forum/entities/JSONResponse.html" title="class in org.olumpos.forum.entities">JSONResponse</a>&gt;&nbsp;toggleUser(@PathVariable
                                                                                                                                                                      int&nbsp;id,
                                                                                                                                                                      org.springframework.ui.Model&nbsp;model)</pre>
<div class="block">Méthode qui permet à une administrateur d'activer1/désactiver un utilisateur en modifiant 
 la valeur du champ 'isActive' (byte): valeurs possibles: 0 ou 1</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - : l'identifiant de l'utilisteur</dd>
<dd><code>model</code> - : model</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>: ResponseEntity paramétré avec un objet de type JSONResponse qui détermine si la réponse est valide ou non
                Le résultat est géré sous forme d'objet JSON par jQuery sur la page html et affiche une message d'erreur si échec</dd>
</dl>
</li>
</ul>
<a name="profileForm-org.springframework.ui.Model-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>profileForm</h4>
<pre>@GetMapping(value="/profile")
public&nbsp;java.lang.String&nbsp;profileForm(org.springframework.ui.Model&nbsp;model)</pre>
<div class="block">Méthode qui permet d'afficher la page de profil pour un utilisateur connecté
 L'utilisateur peut modifier son pseudonyme, son adresse courriel et son mot de passe
 Les champs sont automatiquement remplies avec les valeurs actuelles</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>model</code> - : le modèele conetnant la vairable de session de l'utilisateur et ses paramètres</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>: une chaîne de caractères correspondant à la vue 'profile' qui permet d'afficher la page html appropriée</dd>
</dl>
</li>
</ul>
<a name="updateProfile-org.olumpos.forum.entities.User-org.springframework.validation.BindingResult-org.springframework.ui.Model-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateProfile</h4>
<pre>@PostMapping(value="/profile")
public&nbsp;java.lang.String&nbsp;updateProfile(@Valid
                                                                     @Valid <a href="../../../../org/olumpos/forum/entities/User.html" title="class in org.olumpos.forum.entities">User</a>&nbsp;updatedUser,
                                                                     org.springframework.validation.BindingResult&nbsp;result,
                                                                     org.springframework.ui.Model&nbsp;model)</pre>
<div class="block">Méthode qui permet de modifier les paramètres de l'utilisteur une fois le formulaire de la vue 'profile' soumis 
 Utilisation d'un validator pour les différents champs</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updatedUser</code> - :objet de type User contenant les champs modifiés dans le formulaire</dd>
<dd><code>result</code> - : objet implémentant l'interface BindingResult et qui permettra d'enregistrer le résultat de la validation</dd>
<dd><code>model</code> - : le model contenant l'attribut de session ('user') qui contient les données de l'utilisateur connecté</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>: une chaîne de caractères correspondant à la vue vers laquelle l'utilisateur sera dirigée
 Ici on reste sur la page de profil et on affiche un message de succès ou échec si le profil a été modifiéavec scuccès ou non 

 TODO: trouver la source du problème
 Problème: methode 'put' non reconnue depuis la mise à jour de la version de Spring Boot: de 2.1.7 à 2.2.4
 Thymeleaf semble accepter la méthode 'put' pour un formulaire, mais la requête malgré tout est transmise via la méthode 'post'
 Note: Les formulaires html n'acceptent pas les méthode 'put' et 'delete'; seulement 'get' et 'post'</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UserController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/olumpos/forum/controllers/TopicController.html" title="class in org.olumpos.forum.controllers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/olumpos/forum/controllers/UserController.html" target="_top">Frames</a></li>
<li><a href="UserController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
